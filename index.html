<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esach Mapgen</title>
</head>
<body>
    
</body>
<script>

var drafted = [];
var map = [...Array(5)].map(e => Array(5));

var div = document.createElement("div");
document.body.appendChild(div);

for (let y = 0; y < 5; y++) {
    for (let x = 0; x < 5; x++) {
        while(true) {
            var rand_int = Math.floor(Math.random() * (63 + 1));
        
            if (!drafted.includes(rand_int)) {
                drafted.push(rand_int);
                break;
            }
        }
        
        char = "";
        bg = "fuchsia";

        if (rand_int < 30) {
            char = ".";
            bg = "#f5f5f5";
        } else if (rand_int < 40) {
            char = "j";
            bg = "#0079f1";
        } else if (rand_int < 50) {
            char = "o";
            bg = "#fdf900";
        } else if (rand_int < 52) {
            char = "t";
            bg = "#ff6f00";
        } else if (rand_int < 56) {
            char = "b";
            bg = "#000000";
        } else if (rand_int < 59) {
            char = "e";
            bg = "#e62937";
        } else if (rand_int < 64) {
            char = "x";
            bg = "#969696";
        } else {
            char = "!";
            bg = "fuchsia";
        }

        

        let tile = document.createElement("div");
        tile.style.width = "50px";
        tile.style.height = "50px";
        tile.style.position = "absolute";
        tile.style.top = (40 + y * 70).toString() + "px";
        tile.style.left = (40 + x * 70).toString() + "px";
        tile.style.border = "4px solid black";
        tile.style.background = bg;

        div.appendChild(tile);

        map[x][y] = char;

        
    }
}



var drawn = document.createElement("div");
drawn.style.width = "50px";
drawn.style.height = "50px";
drawn.style.position = "absolute";
drawn.style.top = (40 + 6 * 70).toString() + "px";
drawn.style.left = (40 + 2 * 70).toString() + "px";
drawn.style.border = "4px solid black";
drawn.style.background = "#eebaff";

drawn.addEventListener("mousedown", () => {
    if (drafted.length == 64) {
        console.log("restarted");
        drafted = [];
    }

    while (true) {
        var rand_int = Math.floor(Math.random() * (63 + 1));
    
        if (!drafted.includes(rand_int)) {
            drafted.push(rand_int);
            break;
        }
    }

    if (rand_int < 30) {
        bg = "#f5f5f5";
    } else if (rand_int < 40) {
        bg = "#0079f1";
    } else if (rand_int < 50) {
        bg = "#fdf900";
    } else if (rand_int < 52) {
        bg = "#ff6f00";
    } else if (rand_int < 56) {
        bg = "#000000";
    } else if (rand_int < 59) {
        bg = "#e62937";
    } else if (rand_int < 64) {
        bg = "#969696";
    } else {
        bg = "fuchsia";
    }

    drawn.style.background = bg;
})

div.appendChild(drawn);

</script>
</html>